<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Action Figure Miles x Swapnice</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Varela+Round&display=swap"
      rel="stylesheet"
    />

    <style>
      /* ============================================
         BASE STYLES
         ============================================ */

      /* Custom Cursor */
      :root {
        --cursor-default: url('https://gzpohfmle7zzdwfb.public.blob.vercel-storage.com/Swapnice/cursor_2.png') 0 0, auto;
        --cursor-pointer: url('https://gzpohfmle7zzdwfb.public.blob.vercel-storage.com/Swapnice/cursor_2.png') 0 0, pointer;
      }

      html,
      body {
        margin: 0;
        overflow-x: hidden;
        cursor: var(--cursor-default);
      }

      /* Apply custom pointer cursor to all interactive elements */
      a,
      button,
      [role='button'],
      input[type='submit'],
      input[type='button'],
      label,
      select,
      summary,
      [onclick],
      .afm-btn,
      [class*='btn'] {
        cursor: var(--cursor-pointer) !important;
      }

      /* Preserve not-allowed cursor for disabled states */
      :disabled,
      [disabled],
      .disabled {
        cursor: not-allowed !important;
      }

      #afm-activate {
        min-height: 100vh;
        width: 100%;
        background-color: #f5eee0;
        font-family: 'Varela Round', sans-serif;
        color: #1a1a1a;
        line-height: 1.6;
      }

      #afm-activate * {
        box-sizing: border-box;
      }

      /* ============================================
         HERO - LAYERED CANVAS LAYOUT
         ============================================ */
      .afm-hero {
        width: 100%;
        min-height: 100vh;
        /* background-color: #ef3e36; */
        background: linear-gradient(135deg, #ef3e36 0%, #d93830 40%, #b22d27 70%, #8a1f1c 100%);
        position: relative;
        overflow: hidden;
        display: grid;
        grid-template-columns: 1fr;
        grid-template-rows: auto 1fr auto;
      }

      /* ============================================
         AMBIENT VIDEO - RIGHT HALF SPLIT LAYOUT
         ============================================ */
      .afm-video-layer {
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        width: 55%;
        z-index: 4;
        pointer-events: none;
        overflow: hidden;
      }

      .afm-video-layer video,
      .afm-video-layer .afm-video-fallback {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
        display: block;
        opacity: 1;
        filter: saturate(1.1) contrast(1.05);
        /* Mask fades the video itself to transparent on the left */
        -webkit-mask-image: linear-gradient(
          to right,
          transparent 0%,
          rgba(0, 0, 0, 0.3) 15%,
          rgba(0, 0, 0, 0.7) 30%,
          black 50%
        );
        mask-image: linear-gradient(
          to right,
          transparent 0%,
          rgba(0, 0, 0, 0.3) 15%,
          rgba(0, 0, 0, 0.7) 30%,
          black 50%
        );
      }

      /* Respect reduced motion preference */
      @media (prefers-reduced-motion: reduce) {
        .afm-video-layer video {
          display: none;
        }
        .afm-video-layer .afm-video-fallback {
          display: block;
        }
      }

      .afm-video-layer .afm-video-fallback {
        display: none;
      }
      .afm-video-layer.afm-video-failed .afm-video-fallback {
        display: block;
      }
      .afm-video-layer.afm-video-failed video {
        display: none;
      }

      /* iOS touch-capture overlay - receives first touch to unlock video */
      .afm-video-touch-target {
        position: absolute;
        inset: 0;
        z-index: 1;
        pointer-events: auto;
        background: transparent;
        -webkit-tap-highlight-color: transparent;
        touch-action: manipulation;
        cursor: default;
      }
      /* Once video is playing, disable the overlay */
      .afm-video-layer.afm-video-playing .afm-video-touch-target {
        pointer-events: none;
      }

      /* Noise texture overlay - sits above video */
      .afm-hero::before {
        content: '';
        position: absolute;
        inset: 0;
        background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
        opacity: 0.06;
        pointer-events: none;
        z-index: 3;
      }

      /* ============================================
         FLOATING ACTIVATION BADGE (Header replacement)
         ============================================ */
      .afm-floating-badge {
        z-index: 100;
        animation:
          badgeFloat 4s ease-in-out infinite,
          badgeFadeIn 0.8s ease-out both;
        margin-bottom: 32px;
      }

      @keyframes badgeFloat {
        0%,
        100% {
          transform: translateY(0) rotate(-1deg);
        }
        50% {
          transform: translateY(-8px) rotate(1deg);
        }
      }

      @keyframes badgeFadeIn {
        from {
          opacity: 0;
          transform: translateY(-20px) scale(0.9);
        }
        to {
          opacity: 1;
          transform: translateY(0) scale(1);
        }
      }

      .afm-badge-inner {
        display: flex;
        align-items: center;
        gap: 0;
        background: rgba(255, 255, 255, 0.97);
        padding: 12px 24px;
        border-radius: 16px;
        box-shadow:
          0 4px 24px rgba(0, 0, 0, 0.12),
          0 0 0 1px rgba(0, 0, 0, 0.04);
        backdrop-filter: blur(8px);
        position: relative;
        max-height: 80px;
      }

      .afm-badge-logo {
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .afm-badge-logo img {
        height: auto;
        display: block;
      }

      .afm-badge-logo:first-of-type img {
        width: 125px;
      }

      .afm-badge-logo:last-of-type img {
        width: 125px;
      }

      .afm-badge-divider {
        width: 2px;
        height: 44px;
        background: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.15), transparent);
        margin-left: 18px;
      }

      /* ============================================
         HERO CONTENT - Asymmetric Layout
         ============================================ */
      .afm-hero-content {
        position: relative;
        z-index: 10;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: flex-start;
        padding: 64px 48px 80px;
        max-width: 1200px;
        margin: 0 auto;
        width: 100%;
        min-height: calc(100vh - 100px);
      }

      /* Status indicator - pulsing "LIVE" dot */
      .afm-status-live {
        display: inline-flex;
        align-items: center;
        gap: 10px;
        background: rgba(0, 0, 0, 0.2);
        padding: 10px 20px;
        border-radius: 100px;
        font-size: 12px;
        font-weight: 700;
        letter-spacing: 2px;
        text-transform: uppercase;
        color: #fff;
        margin-bottom: 32px;
        animation: statusSlideIn 0.6s ease-out 0.2s both;
      }

      @keyframes statusSlideIn {
        from {
          opacity: 0;
          transform: translateX(-20px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }

      .afm-status-dot {
        width: 8px;
        height: 8px;
        background: #4ade80;
        border-radius: 50%;
        animation: statusPulse 2s ease-in-out infinite;
        box-shadow: 0 0 8px #4ade80;
      }

      @keyframes statusPulse {
        0%,
        100% {
          transform: scale(1);
          box-shadow: 0 0 8px #4ade80;
        }
        50% {
          transform: scale(1.3);
          box-shadow:
            0 0 16px #4ade80,
            0 0 32px rgba(74, 222, 128, 0.4);
        }
      }

      .afm-hero-title {
        font-size: clamp(48px, 10vw, 96px);
        font-weight: 700;
        line-height: 0.95;
        margin: 0 0 24px 0;
        color: #fff;
        max-width: 700px;
        animation: heroTitleIn 0.8s ease-out 0.3s both;
        text-align: left;
      }

      @keyframes heroTitleIn {
        from {
          opacity: 0;
          transform: translateY(40px) skewY(2deg);
        }
        to {
          opacity: 1;
          transform: translateY(0) skewY(0);
        }
      }

      /* ============================================
         CHALK UNDERLINE ANIMATION
         ============================================ */
      .afm-chalk-underline {
        position: relative;
        display: inline-block;
      }

      .afm-chalk-underline::after {
        content: '';
        position: absolute;
        left: 0;
        right: 0;
        bottom: -28px;
        height: 20px;
        background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 400 12' preserveAspectRatio='none'%3E%3Cpath d='M2 6 L398 6' stroke='%23ffffff' stroke-width='5' fill='none' stroke-linecap='butt' opacity='0.95'/%3E%3Cpath d='M4 8 L396 8' stroke='%23ffffff' stroke-width='2' fill='none' stroke-linecap='round' opacity='0.4'/%3E%3Cpath d='M6 4 L394 4' stroke='%23ffffff' stroke-width='1.5' fill='none' stroke-linecap='round' opacity='0.25'/%3E%3C/svg%3E")
          no-repeat center;
        background-size: 100% 100%;
        transform: scaleX(0);
        transform-origin: left center;
        opacity: 0;
        pointer-events: none;
        filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2));
      }

      .afm-chalk-underline.animate::after {
        animation: chalkDraw 0.6s cubic-bezier(0.22, 0.61, 0.36, 1) forwards;
      }

      @keyframes chalkDraw {
        0% {
          transform: scaleX(0) rotate(-0.5deg);
          opacity: 0;
        }
        15% {
          opacity: 1;
        }
        40% {
          transform: scaleX(0.55) rotate(0.3deg);
        }
        70% {
          transform: scaleX(0.85) rotate(-0.2deg);
        }
        85% {
          transform: scaleX(1.02) rotate(0.1deg);
        }
        100% {
          transform: scaleX(1) rotate(0deg);
          opacity: 1;
        }
      }

      /* Subtle chalk dust particles */
      .afm-chalk-underline::before {
        content: '';
        position: absolute;
        left: 0;
        right: 0;
        bottom: -8px;
        height: 30px;
        background:
          radial-gradient(circle at 15% 60%, rgba(255, 255, 255, 0.6) 1px, transparent 1px),
          radial-gradient(circle at 35% 40%, rgba(255, 255, 255, 0.4) 1px, transparent 1px),
          radial-gradient(circle at 55% 70%, rgba(255, 255, 255, 0.5) 1px, transparent 1px),
          radial-gradient(circle at 75% 45%, rgba(255, 255, 255, 0.3) 1px, transparent 1px),
          radial-gradient(circle at 90% 55%, rgba(255, 255, 255, 0.4) 1px, transparent 1px);
        opacity: 0;
        pointer-events: none;
      }

      .afm-chalk-underline.animate::before {
        animation: chalkDust 0.8s ease-out 0.3s forwards;
      }

      @keyframes chalkDust {
        0% {
          opacity: 0;
          transform: translateY(-5px);
        }
        50% {
          opacity: 0.8;
        }
        100% {
          opacity: 0;
          transform: translateY(8px);
        }
      }

      .afm-hero-subtitle {
        font-size: clamp(18px, 2.5vw, 24px);
        opacity: 0.85;
        max-width: 480px;
        color: #fff;
        margin: 0;
        line-height: 1.5;
        animation: subtitleIn 0.6s ease-out 0.5s both;
        text-align: left;
      }

      @keyframes subtitleIn {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 0.85;
          transform: translateY(0);
        }
      }

      /* ============================================
         PORTAL CTA - High contrast, elevated
         ============================================ */
      .afm-cta-wrapper {
        position: relative;
        animation: ctaWrapperIn 0.6s ease-out 0.7s both;
      }

      @keyframes ctaWrapperIn {
        from {
          opacity: 0;
          transform: translateY(20px) scale(0.95);
        }
        to {
          opacity: 1;
          transform: translateY(0) scale(1);
        }
      }

      .afm-hero-cta {
        display: inline-flex;
        align-items: center;
        gap: 14px;
        background: #fff;
        color: #1a1a1a;
        padding: 22px 44px;
        border-radius: 100px;
        font-size: 18px;
        font-weight: 700;
        text-decoration: none;
        cursor: pointer;
        border: none;
        position: relative;
        overflow: hidden;
        transition:
          transform 0.3s ease,
          box-shadow 0.3s ease;
        box-shadow:
          0 4px 24px rgba(0, 0, 0, 0.2),
          0 0 0 0 rgba(255, 255, 255, 0.4);
        z-index: 1;
      }

      /* Animated glow behind CTA */
      .afm-cta-glow {
        position: absolute;
        inset: -4px;
        background: linear-gradient(
          90deg,
          rgba(255, 255, 255, 0.6),
          rgba(255, 255, 255, 0.2),
          rgba(255, 255, 255, 0.6)
        );
        background-size: 200% 100%;
        border-radius: 100px;
        animation: ctaGlowPulse 3s ease-in-out infinite;
        z-index: -1;
        filter: blur(8px);
      }

      @keyframes ctaGlowPulse {
        0%,
        100% {
          background-position: 0% 50%;
          opacity: 0.5;
        }
        50% {
          background-position: 100% 50%;
          opacity: 0.8;
        }
      }

      .afm-hero-cta::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(239, 62, 54, 0.1), transparent);
        transition: left 0.5s ease;
      }

      .afm-hero-cta:hover::before {
        left: 100%;
      }

      .afm-hero-cta:hover {
        transform: translateY(-2px) scale(1.02);
        /* box-shadow:
          0 12px 40px rgba(0, 0, 0, 0.3),
          0 0 60px rgba(255, 255, 255, 0.3); */
      }

      .afm-hero-cta svg {
        width: 22px;
        height: 22px;
        color: #ef3e36;
        animation: boltCharge 2s ease-in-out infinite;
        position: relative;
        z-index: 2;
      }

      @keyframes boltCharge {
        0%,
        100% {
          transform: scale(1) rotate(0deg);
          filter: drop-shadow(0 0 0 transparent);
        }
        50% {
          transform: scale(1.2) rotate(-5deg);
          filter: drop-shadow(0 0 8px rgba(239, 62, 54, 0.6));
        }
      }

      .afm-cta-text {
        position: relative;
        z-index: 2;
      }

      .afm-hero-note {
        margin-top: 20px;
        font-size: 13px;
        opacity: 0.6;
        color: #fff;
        animation: noteIn 0.6s ease-out 0.9s both;
        display: flex;
        align-items: center;
        gap: 8px;
      }

      @keyframes noteIn {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 0.6;
          transform: translateY(0);
        }
      }

      .afm-hero-note svg {
        width: 16px;
        height: 16px;
      }

      /* ============================================
         PORTAL CARD - Unified Activation CTA
         ============================================ */
      .afm-portal-card {
        position: relative;
        animation: portalCardIn 0.8s ease-out 0.6s both;
        padding: 6px;
        border-radius: 26px;
        overflow: hidden;
        margin-top: 80px;
        /* Solid top rim highlight for raised effect */
        box-shadow:
          0 -2px 0 rgba(255, 255, 255, 0.15),
          0 -4px 12px rgba(255, 255, 255, 0.1),
          0 4px 20px rgba(0, 0, 0, 0.5),
          0 12px 48px rgba(0, 0, 0, 0.4);
      }

      @keyframes portalCardIn {
        from {
          opacity: 0;
          transform: translateY(20px) scale(0.96);
        }
        to {
          opacity: 1;
          transform: translateY(0) scale(1);
        }
      }

      /* Rotating white border - single constant counter-clockwise flow */
      .afm-portal-card::before {
        content: '';
        position: absolute;
        inset: -50%;
        background: conic-gradient(
          from 0deg,
          #0a0a0a 0deg,
          #0a0a0a 240deg,
          #333333 260deg,
          #666666 270deg,
          #999999 280deg,
          #cccccc 290deg,
          #ffffff 300deg,
          #ffffff 330deg,
          #cccccc 340deg,
          #999999 345deg,
          #666666 350deg,
          #333333 355deg,
          #0a0a0a 360deg
        );
        animation: portalVortex 4s linear infinite;
        z-index: 0;
        /* GPU optimization: promote to compositor layer */
        will-change: transform;
        transform: translateZ(0);
        backface-visibility: hidden;
      }

      /* No secondary layer */
      .afm-portal-card::after {
        display: none;
      }

      @keyframes portalVortex {
        from {
          transform: rotate(0deg);
        }
        to {
          transform: rotate(-360deg);
        }
      }

      /* Outer glow element - removed, using box-shadow on parent instead */
      .afm-portal-card-glow {
        display: none;
      }

      .afm-portal-card-inner {
        position: relative;
        z-index: 1;
        display: flex;
        align-items: center;
        gap: 32px;
        background: linear-gradient(
          180deg,
          rgba(12, 12, 22, 0.98) 0%,
          rgba(8, 8, 16, 1) 50%,
          rgba(10, 10, 20, 0.99) 100%
        );
        backdrop-filter: blur(20px);
        border-radius: 20px;
        padding: 28px 36px;
        /* Inset effect - sunken inner card */
        box-shadow:
          inset 0 2px 4px rgba(0, 0, 0, 0.5),
          inset 0 4px 8px rgba(0, 0, 0, 0.3),
          inset 0 -1px 0 rgba(255, 255, 255, 0.03),
          0 -1px 0 rgba(255, 255, 255, 0.05);
      }

      /* Left side - CTA content */
      .afm-portal-cta-side {
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        flex: 1;
      }

      .afm-portal-label {
        font-size: 11px;
        font-weight: 700;
        letter-spacing: 2px;
        text-transform: uppercase;
        color: rgba(255, 255, 255, 0.5);
        margin: 0 0 12px 0;
      }

      .afm-portal-card .afm-hero-cta {
        padding: 16px 28px;
        font-size: 16px;
      }

      .afm-portal-note {
        font-size: 12px;
        color: rgba(255, 255, 255, 0.45);
        margin: 12px 0 0 0;
        display: flex;
        align-items: center;
        gap: 6px;
      }

      /* Divider */
      .afm-portal-divider {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 40px;
        height: 100%;
        position: relative;
      }

      .afm-portal-divider::before {
        content: '';
        position: absolute;
        top: 0;
        bottom: 0;
        left: 50%;
        width: 1px;
        background: linear-gradient(to bottom, transparent, rgba(255, 255, 255, 0.15), transparent);
      }

      .afm-portal-divider span {
        font-size: 11px;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 1px;
        color: rgba(255, 255, 255, 0.35);
        background: rgba(0, 0, 0, 0.4);
        padding: 6px 8px;
        border-radius: 4px;
        position: relative;
        z-index: 1;
      }

      /* Right side - QR */
      .afm-portal-qr-side {
        display: flex;
        flex-direction: column;
        align-items: center;
        cursor: pointer;
        transition: transform 0.2s ease;
      }

      .afm-portal-qr-box {
        background: #fff;
        border-radius: 12px;
        padding: 10px;
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
      }

      .afm-portal-qr-box img {
        width: 100px;
        height: 100px;
        display: block;
      }

      .afm-portal-qr-label {
        font-size: 11px;
        color: rgba(255, 255, 255, 0.4);
        margin: 10px 0 0 0;
        text-align: center;
      }

      /* ============================================
         HERO TRANSITION TO CONTENT
         ============================================ */
      .afm-hero-transition {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        height: 78px;
        background: linear-gradient(to bottom, transparent 0%, #f5eee0 100%);
        z-index: 20;
        pointer-events: none;
      }

      /* Explore Guide Character */
      .afm-explore-guide {
        position: absolute;
        bottom: 65px;
        left: calc(50% - 325px);
        z-index: 25;
        display: flex;
        flex-direction: column;
        align-items: center;
        animation: guideFloat 3s ease-in-out infinite;
      }

      @keyframes guideFloat {
        0%,
        100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-12px);
        }
      }

      .afm-explore-guide-character {
        width: 115px;
        height: auto;
        position: relative;
        z-index: 1;
        filter: drop-shadow(0 8px 16px rgba(0, 0, 0, 0.2));
      }

      .afm-explore-guide-sign {
        position: absolute;
        top: 55px;
        left: 50%;
        transform: translateX(-50%);
        background: rgba(255, 255, 255, 0.95);
        border: 2px dashed #ef3e36;
        border-radius: 10px;
        padding: 6px 14px 10px;
        text-align: center;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        z-index: 3;
        min-width: 200px;
      }

      .afm-explore-guide-sign-text {
        font-size: 18px;
        font-weight: 600;
        color: #666;
        text-transform: uppercase;
        letter-spacing: 1px;
        margin-bottom: 4px;
        display: block;
      }

      .afm-explore-guide-sign-action {
        font-size: 18px;
        font-weight: 700;
        color: #ef3e36;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 6px;
      }

      .afm-explore-guide-sign-action svg {
        width: 16px;
        height: 16px;
        animation: arrowBounce 1.5s ease-in-out infinite;
      }

      @keyframes arrowBounce {
        0%,
        100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(3px);
        }
      }

      @media (max-width: 900px) {
        .afm-explore-guide {
          left: 20px;
          bottom: 10px;
        }

        .afm-explore-guide-character {
          width: 100px;
        }

        .afm-explore-guide-sign {
          top: 50px;
          padding: 5px 10px 8px;
          min-width: 70px;
        }

        .afm-explore-guide-sign-text {
          font-size: 9px;
        }

        .afm-explore-guide-sign-action {
          font-size: 11px;
        }
      }

      @media (max-width: 600px) {
        .afm-explore-guide {
          display: none;
        }
      }

      /* Footer Peeking Character - Behind the card */
      .afm-footer-peek {
        position: absolute;
        right: -160px;
        top: 50%;
        transform: translateY(-50%) rotate(18deg);
        z-index: 0;
        animation: peekFloat 6s ease-in-out infinite;
        pointer-events: none;
      }

      @keyframes peekFloat {
        0%,
        100% {
          transform: translateY(-50%) rotate(18deg) translateY(0);
        }
        50% {
          transform: translateY(-50%) rotate(18deg) translateY(-8px);
        }
      }

      .afm-footer-peek-character {
        width: 150px;
        height: auto;
        display: block;
        filter: drop-shadow(0 8px 20px rgba(0, 0, 0, 0.2));
      }

      .afm-footer-peek-logo {
        position: absolute;
        top: 40px;
        left: 65%;
        transform: translateX(-50%);
        width: 85px;
        height: auto;
        filter: drop-shadow(0 2px 8px rgba(0, 0, 0, 0.15));
      }

      @media (max-width: 1400px) {
        .afm-footer-peek {
          right: -120px;
        }

        .afm-footer-peek-character {
          width: 160px;
        }

        .afm-footer-peek-logo {
          top: 75px;
          width: 80px;
        }
      }

      @media (max-width: 1200px) {
        .afm-footer-peek {
          right: -110px;
        }

        .afm-footer-peek-character {
          width: 140px;
        }

        .afm-footer-peek-logo {
          top: 65px;
          width: 70px;
        }
      }

      @media (max-width: 900px) {
        .afm-footer-peek {
          display: none;
        }
      }

      /* ============================================
         RESPONSIVE - Hero
         ============================================ */
      @media (max-width: 1024px) {
        /* Adjust video width on tablets */
        .afm-video-layer {
          width: 50%;
        }

        .afm-hero-content {
          max-width: 55%;
        }
      }

      @media (max-width: 768px) {
        /* On mobile, video goes behind as ambient layer */
        .afm-video-layer {
          width: 100%;
          z-index: 0;
        }

        .afm-video-layer video,
        .afm-video-layer .afm-video-fallback {
          opacity: 0.3;
          filter: saturate(0.9) blur(1px);
          /* On mobile, fade from top instead */
          -webkit-mask-image: linear-gradient(
            to bottom,
            transparent 0%,
            rgba(0, 0, 0, 0.5) 20%,
            black 40%
          );
          mask-image: linear-gradient(to bottom, transparent 0%, rgba(0, 0, 0, 0.5) 20%, black 40%);
        }

        .afm-hero-content {
          padding: 48px 24px 100px;
          align-items: center;
          max-width: 100%;
        }

        .afm-hero-title {
          text-align: center;
        }

        .afm-hero-subtitle {
          text-align: center;
        }

        .afm-status-live {
          margin-left: auto;
          margin-right: auto;
        }

        .afm-floating-badge {
          margin-bottom: 16px;
        }

        .afm-badge-inner {
          padding: 10px 18px;
          border-radius: 14px;
        }

        .afm-badge-logo img {
          height: 28px;
        }

        .afm-badge-divider {
          height: 22px;
          margin: 0 14px;
        }

        .afm-orbit-icon {
          display: none;
        }

        .afm-hero-cta {
          padding: 18px 36px;
          font-size: 16px;
        }

        /* Portal Card Mobile */
        .afm-portal-card-inner {
          flex-direction: column;
          gap: 24px;
          padding: 24px;
          text-align: center;
        }

        .afm-portal-cta-side {
          align-items: center;
        }

        .afm-portal-card .afm-hero-cta {
          padding: 16px 24px;
          font-size: 15px;
        }

        .afm-portal-divider {
          width: 100%;
          height: auto;
          flex-direction: row;
        }

        .afm-portal-divider::before {
          top: 50%;
          bottom: auto;
          left: 0;
          right: 0;
          width: 100%;
          height: 1px;
          background: linear-gradient(
            to right,
            transparent,
            rgba(255, 255, 255, 0.15),
            transparent
          );
        }

        .afm-portal-qr-box img {
          width: 90px;
          height: 90px;
        }
      }

      /* ============================================
         NARRATIVE BODY - Story-Driven Vertical Flow
         ============================================ */
      .afm-narrative {
        max-width: 800px;
        margin: 0 auto;
        padding: 120px 40px 100px;
      }

      @media (max-width: 768px) {
        .afm-narrative {
          padding: 80px 24px 64px;
        }
      }

      /* Story Beat - Each narrative section */
      .afm-beat {
        opacity: 0;
        transform: translateY(40px);
        transition:
          opacity 0.8s ease-out,
          transform 0.8s ease-out;
        margin-bottom: 120px;
        position: relative;
      }

      .afm-beat:last-child {
        margin-bottom: 0;
      }

      .afm-beat.afm-visible {
        opacity: 1;
        transform: translateY(0);
      }

      /* Beat 1 (Transformation): Gentle fade and rise */
      .afm-beat--transform {
        transform: translateY(50px);
        transition:
          opacity 1s cubic-bezier(0.25, 0.46, 0.45, 0.94),
          transform 1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      }

      /* Beat 2 (Ownership): Sharper, more static reveal for permanence */
      .afm-beat--verify {
        transform: translateY(20px);
        transition:
          opacity 0.5s ease-out,
          transform 0.4s ease-out;
      }

      /* Beat 3 (Access): Delayed reveal for anticipation */
      .afm-beat--access {
        transform: translateY(60px);
        transition:
          opacity 1.2s cubic-bezier(0.16, 1, 0.3, 1),
          transform 1.2s cubic-bezier(0.16, 1, 0.3, 1);
        transition-delay: 0.15s;
      }

      @media (max-width: 768px) {
        .afm-beat {
          margin-bottom: 80px;
        }
      }

      /* ============================================
         ACTIVATION DIVIDERS - Between narrative beats
         ============================================ */
      .afm-activation-divider {
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 80px auto;
        max-width: 400px;
        position: relative;
        opacity: 0;
        transform: scaleX(0.3);
        transition:
          opacity 0.8s ease-out,
          transform 0.8s ease-out;
      }

      .afm-activation-divider.afm-visible {
        opacity: 1;
        transform: scaleX(1);
      }

      /* Thin gradient line fading from Swapnice red */
      .afm-activation-divider::before {
        content: '';
        position: absolute;
        left: 0;
        right: 0;
        height: 1px;
        background: linear-gradient(
          90deg,
          transparent 0%,
          rgba(239, 62, 54, 0.08) 15%,
          rgba(239, 62, 54, 0.35) 50%,
          rgba(239, 62, 54, 0.08) 85%,
          transparent 100%
        );
      }

      /* Subtle pulsing heart motif at center */
      .afm-activation-divider-heart {
        position: relative;
        z-index: 1;
        width: 20px;
        height: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        background: #f5eee0;
        padding: 0 12px;
      }

      .afm-activation-divider-heart svg {
        width: 14px;
        height: 14px;
        color: #ef3e36;
        opacity: 0.5;
        animation: heartPulseSubtle 3s ease-in-out infinite;
      }

      @keyframes heartPulseSubtle {
        0%,
        100% {
          transform: scale(1);
          opacity: 0.4;
        }
        50% {
          transform: scale(1.1);
          opacity: 0.6;
        }
      }

      @media (prefers-reduced-motion: reduce) {
        .afm-activation-divider-heart svg {
          animation: none;
          opacity: 0.5;
        }
      }

      @media (max-width: 768px) {
        .afm-activation-divider {
          margin: 56px auto;
          max-width: 280px;
        }
      }

      /* ============================================
         HOW-TO STEPS - Clear Instructional Spine
         ============================================ */
      .afm-howto {
        max-width: 1100px;
        margin: 0 auto;
        padding: 80px 40px 100px;
      }

      .afm-howto-layout {
        display: grid;
        grid-template-columns: 1fr 320px;
        gap: 64px;
        align-items: start;
      }

      .afm-howto-header {
        margin-bottom: 64px;
      }

      .afm-howto-label {
        display: inline-flex;
        align-items: center;
        gap: 10px;
        font-size: 12px;
        font-weight: 700;
        letter-spacing: 2px;
        text-transform: uppercase;
        color: #ef3e36;
        margin-bottom: 16px;
      }

      .afm-howto-label::before,
      .afm-howto-label::after {
        content: '';
        width: 24px;
        height: 2px;
        background: #ef3e36;
        opacity: 0.4;
      }

      .afm-howto-title {
        font-size: clamp(32px, 5vw, 48px);
        font-weight: 700;
        line-height: 1.15;
        margin: 0 0 16px 0;
        color: #1a1a1a;
      }

      /* Steps Container */
      .afm-steps {
        display: flex;
        flex-direction: column;
        gap: 0;
        position: relative;
      }

      /* Vertical connector line */
      .afm-steps::before {
        content: '';
        position: absolute;
        left: 32px;
        top: 48px;
        bottom: 48px;
        width: 2px;
        background: linear-gradient(
          to bottom,
          transparent 0%,
          rgba(239, 62, 54, 0.15) 10%,
          rgba(239, 62, 54, 0.15) 90%,
          transparent 100%
        );
      }

      /* Running Character Animation */
      .afm-steps-runner {
        position: absolute;
        left: -32px;
        top: 32px;
        width: 175px;
        height: 175px;
        transform: translateX(-50%);
        z-index: 3;
        pointer-events: none;
        animation:
          runnerPath 42s ease-in-out infinite,
          runnerWobble 0.9s ease-in-out infinite;
      }

      .afm-steps-runner img {
        width: 100%;
        height: 100%;
        object-fit: contain;
      }

      @keyframes runnerPath {
        0% {
          top: 32px;
        }
        45% {
          top: calc(100% - 72px);
        }
        50% {
          top: calc(100% - 72px);
        }
        95% {
          top: 32px;
        }
        100% {
          top: 32px;
        }
      }

      @keyframes runnerWobble {
        0%,
        100% {
          transform: translateX(-50%) translateX(-3px);
        }
        50% {
          transform: translateX(-50%) translateX(3px);
        }
      }

      @media (max-width: 768px) {
        .afm-steps-runner {
          left: 24px;
          width: 32px;
          height: 32px;
          top: 24px;
        }

        @keyframes runnerPath {
          0% {
            top: 24px;
          }
          45% {
            top: calc(100% - 56px);
          }
          50% {
            top: calc(100% - 56px);
          }
          95% {
            top: 24px;
          }
          100% {
            top: 24px;
          }
        }
      }

      .afm-step {
        display: grid;
        grid-template-columns: 64px 1fr;
        gap: 32px;
        padding: 32px 0;
      }

      .afm-step-number {
        width: 64px;
        height: 64px;
        background: #fff;
        border: 3px solid #ef3e36;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 24px;
        font-weight: 700;
        color: #ef3e36;
        position: relative;
        z-index: 2;
        box-shadow: 0 4px 16px rgba(239, 62, 54, 0.15);
      }

      .afm-step-content {
        padding-top: 8px;
      }

      .afm-step-title {
        font-size: clamp(20px, 3vw, 26px);
        font-weight: 700;
        color: #1a1a1a;
        margin: 0 0 8px 0;
        line-height: 1.2;
      }

      .afm-step-desc {
        font-size: clamp(15px, 2vw, 17px);
        color: #555;
        margin: 0;
        line-height: 1.6;
        max-width: 480px;
      }

      .afm-step-desc em {
        font-style: normal;
        color: #ef3e36;
        font-weight: 600;
      }

      /* Step visual hint */
      .afm-step-hint {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        margin-top: 12px;
        padding: 8px 16px;
        background: rgba(239, 62, 54, 0.1);
        border-radius: 100px;
        font-size: 15px;
        color: #ef3e36;
      }

      .afm-step-hint svg {
        width: 16px;
        height: 16px;
        color: #ef3e36;
        opacity: 0.8;
      }

      /* Demo GIF Container */
      .afm-howto-demo {
        position: sticky;
        top: 100px;
        display: flex;
        flex-direction: column;
        align-items: center;
      }

      .afm-howto-demo-phone {
        width: 100%;
        max-width: 280px;
        aspect-ratio: 9 / 18;
        background: #1a1a1a;
        border-radius: 32px;
        padding: 12px;
        box-shadow:
          0 24px 48px rgba(0, 0, 0, 0.15),
          0 8px 16px rgba(0, 0, 0, 0.1),
          inset 0 0 0 2px rgba(255, 255, 255, 0.1);
        overflow: hidden;
      }

      .afm-howto-demo-screen {
        width: 100%;
        height: 100%;
        background: #f5eee0;
        border-radius: 22px;
        overflow: hidden;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .afm-howto-demo-screen img,
      .afm-howto-demo-screen video {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      .afm-howto-demo-placeholder {
        text-align: center;
        color: #999;
        font-size: 13px;
        padding: 24px;
      }

      .afm-howto-demo-placeholder svg {
        width: 32px;
        height: 32px;
        margin-bottom: 8px;
        opacity: 0.4;
      }

      @media (max-width: 900px) {
        .afm-howto-layout {
          grid-template-columns: 1fr;
          gap: 48px;
        }

        .afm-howto-demo {
          position: relative;
          top: 0;
          order: -1;
        }

        .afm-howto-demo-phone {
          max-width: 220px;
        }
      }

      @media (max-width: 768px) {
        .afm-howto {
          padding: 64px 24px 80px;
        }

        .afm-steps::before {
          left: 24px;
        }

        .afm-step {
          grid-template-columns: 48px 1fr;
          gap: 20px;
          padding: 24px 0;
        }

        .afm-step-number {
          width: 48px;
          height: 48px;
          font-size: 18px;
        }
      }

      /* ============================================
         TUTORIAL VIDEO SECTION
         ============================================ */
      .afm-tutorial {
        max-width: 900px;
        margin: 0 auto;
        padding: 0 40px 100px;
      }

      .afm-tutorial-wrapper {
        background: linear-gradient(145deg, #1a1a1a 0%, #0a0a0a 100%);
        border-radius: 24px;
        overflow: hidden;
        box-shadow:
          0 12px 48px rgba(0, 0, 0, 0.2),
          0 4px 16px rgba(0, 0, 0, 0.1);
      }

      .afm-tutorial-video {
        position: relative;
        aspect-ratio: 16 / 9;
        background: #000;
        overflow: hidden;
      }

      .afm-tutorial-video video,
      .afm-tutorial-video iframe {
        width: 100%;
        height: 100%;
        object-fit: cover;
        display: block;
      }

      /* Video placeholder with play button */
      .afm-tutorial-placeholder {
        position: absolute;
        inset: 0;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        background: linear-gradient(145deg, #1a1a1a 0%, #0d0d0d 100%);
        cursor: pointer;
        transition: opacity 0.3s ease;
      }

      .afm-tutorial-placeholder.hidden {
        opacity: 0;
        pointer-events: none;
      }

      /* Product silhouette background */
      .afm-tutorial-placeholder::before {
        content: '';
        position: absolute;
        inset: 0;
        background-image: url('https://gzpohfmle7zzdwfb.public.blob.vercel-storage.com/Swapnice/product_1.webp');
        background-size: 80%;
        background-position: center;
        background-repeat: no-repeat;
        opacity: 0.06;
        filter: grayscale(100%) contrast(1.2);
        pointer-events: none;
      }

      .afm-tutorial-play {
        width: 80px;
        height: 80px;
        background: #ef3e36;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
        z-index: 1;
        box-shadow: 0 8px 32px rgba(239, 62, 54, 0.4);
        transition:
          transform 0.3s ease,
          box-shadow 0.3s ease;
      }

      .afm-tutorial-placeholder:hover .afm-tutorial-play {
        transform: scale(1.08);
        box-shadow: 0 12px 40px rgba(239, 62, 54, 0.5);
      }

      .afm-tutorial-play svg {
        width: 32px;
        height: 32px;
        color: #fff;
        margin-left: 4px;
      }

      .afm-tutorial-play-label {
        position: relative;
        z-index: 1;
        margin-top: 20px;
        font-size: 14px;
        font-weight: 600;
        color: rgba(255, 255, 255, 0.7);
        letter-spacing: 0.5px;
      }

      .afm-tutorial-info {
        padding: 24px 32px;
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 20px;
        border-top: 1px solid rgba(255, 255, 255, 0.06);
      }

      .afm-tutorial-meta {
        display: flex;
        flex-direction: column;
        gap: 4px;
      }

      .afm-tutorial-title {
        font-size: 16px;
        font-weight: 700;
        color: #fff;
        margin: 0;
      }

      .afm-tutorial-duration {
        font-size: 13px;
        color: rgba(255, 255, 255, 0.5);
        display: flex;
        align-items: center;
        gap: 6px;
      }

      .afm-tutorial-duration svg {
        width: 14px;
        height: 14px;
      }

      .afm-tutorial-badge {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        padding: 8px 16px;
        background: rgba(239, 62, 54, 0.15);
        border-radius: 100px;
        font-size: 12px;
        font-weight: 600;
        color: #ef3e36;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      .afm-tutorial-badge svg {
        width: 14px;
        height: 14px;
      }

      @media (max-width: 768px) {
        .afm-tutorial {
          padding: 0 24px 80px;
        }

        .afm-tutorial-wrapper {
          border-radius: 20px;
        }

        .afm-tutorial-play {
          width: 64px;
          height: 64px;
        }

        .afm-tutorial-play svg {
          width: 26px;
          height: 26px;
        }

        .afm-tutorial-info {
          padding: 20px 24px;
          flex-direction: column;
          align-items: flex-start;
          gap: 16px;
        }
      }

      /* ============================================
         FOOTER CTA - Final Call to Action
         ============================================ */
      /* ========================================
         FOOTER - Activation Portal Continuation
         ======================================== */
      .afm-footer-area {
        max-width: 1200px;
        margin: 0 auto;
        padding: 10px;
        display: flex;
        flex-direction: column;
        gap: 24px;
        position: relative;
      }

      @media (max-width: 768px) {
        .afm-footer-area {
          padding: 24px 64px;
        }
      }

      /* Footer Portal Card - Matches header portal card aesthetic */
      .afm-footer-portal {
        position: relative;
        padding: 5px;
        border-radius: 36px;
        overflow: hidden;
        z-index: 1;
        /* Solid rim highlight matching header portal card */
        box-shadow:
          0 -2px 0 rgba(239, 62, 54, 0.1),
          0 -4px 12px rgba(239, 62, 54, 0.08),
          0 8px 40px rgba(0, 0, 0, 0.12),
          0 16px 56px rgba(0, 0, 0, 0.08);
      }

      /* Rotating gradient border - matches header portal vortex style */
      .afm-footer-portal::before {
        content: '';
        position: absolute;
        inset: -50%;
        background: conic-gradient(
          from 0deg,
          #f5eee0 0deg,
          #f5eee0 240deg,
          #e8d5c4 260deg,
          #d4a574 270deg,
          #ef3e36 285deg,
          #ef3e36 300deg,
          #d4a574 315deg,
          #e8d5c4 330deg,
          #f5eee0 360deg
        );
        animation: footerPortalVortex 8s linear infinite;
        z-index: 0;
        /* GPU optimization: promote to compositor layer */
        will-change: transform;
        transform: translateZ(0);
        backface-visibility: hidden;
      }

      @keyframes footerPortalVortex {
        from {
          transform: rotate(0deg);
        }
        to {
          transform: rotate(360deg);
        }
      }

      /* Respect reduced motion preference for footer */
      @media (prefers-reduced-motion: reduce) {
        .afm-footer-portal::before {
          animation: none;
        }
      }

      /* Inner content container */
      .afm-footer-portal-inner {
        position: relative;
        z-index: 1;
        background: rgba(255, 255, 255, 0.98);
        border-radius: 32px;
        padding: 40px;
        /* Inner shadow for depth */
        box-shadow:
          inset 0 1px 0 rgba(255, 255, 255, 1),
          0 0 0 1px rgba(0, 0, 0, 0.03);
      }

      /* Subtle texture overlay on inner */
      .afm-footer-portal-inner::before {
        content: '';
        position: absolute;
        inset: 0;
        border-radius: 32px;
        background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
        opacity: 0.025;
        pointer-events: none;
      }

      /* Portal Header Badge */
      .afm-footer-badge {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 16px;
        margin-bottom: 48px;
        position: relative;
        z-index: 1;
      }

      .afm-footer-badge-line {
        flex: 1;
        height: 1px;
        background: linear-gradient(to right, transparent, rgba(0, 0, 0, 0.1), transparent);
      }

      .afm-footer-badge-text {
        font-size: 12px;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 2px;
        color: #888;
        white-space: nowrap;
      }

      /* Dual Path Container */
      .afm-footer-paths {
        display: grid;
        grid-template-columns: 1fr 1px 1fr;
        gap: 48px;
        position: relative;
        z-index: 1;
      }

      .afm-footer-divider {
        width: 1px;
        background: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1), transparent);
      }

      /* Path Section Base */
      .afm-footer-path {
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
        padding: 8px 0;
      }

      .afm-footer-path-label {
        font-size: 11px;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 1.5px;
        color: #ef3e36;
        margin-bottom: 12px;
        opacity: 0.9;
      }

      .afm-footer-path-title {
        font-size: 24px;
        font-weight: 700;
        color: #1a1a1a;
        margin-bottom: 12px;
        line-height: 1.2;
      }

      .afm-footer-path-desc {
        font-size: 15px;
        color: #666;
        line-height: 1.5;
        margin-bottom: 28px;
        max-width: 300px;
      }

      /* Download Path - Primary Activation */
      .afm-footer-download-cta {
        display: inline-flex;
        align-items: center;
        gap: 12px;
        background: #1a1a1a;
        color: #fff;
        padding: 18px 36px;
        border-radius: 100px;
        font-size: 16px;
        font-weight: 700;
        text-decoration: none;
        cursor: pointer;
        border: none;
        position: relative;
        overflow: hidden;
        transition:
          transform 0.3s ease,
          box-shadow 0.3s ease,
          background 0.3s ease;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
      }

      .afm-footer-download-cta::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
        transition: left 0.5s ease;
      }

      .afm-footer-download-cta:hover::before {
        left: 100%;
      }

      .afm-footer-download-cta:hover {
        transform: translateY(-2px) scale(1.02);
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
        background: #000;
      }

      .afm-footer-download-cta svg {
        width: 20px;
        height: 20px;
        color: #ef3e36;
        animation: footerBoltPulse 2s ease-in-out infinite;
      }

      @keyframes footerBoltPulse {
        0%,
        100% {
          transform: scale(1);
          filter: drop-shadow(0 0 0 transparent);
        }
        50% {
          transform: scale(1.15);
          filter: drop-shadow(0 0 6px rgba(239, 62, 54, 0.5));
        }
      }

      /* QR Code Section */
      .afm-footer-qr-section {
        display: flex;
        align-items: center;
        gap: 20px;
        margin-top: 28px;
        padding-top: 24px;
        border-top: 1px solid rgba(0, 0, 0, 0.06);
      }

      .afm-footer-qr-box {
        background: #fff;
        border-radius: 12px;
        padding: 8px;
        box-shadow:
          0 2px 12px rgba(0, 0, 0, 0.08),
          0 0 0 1px rgba(0, 0, 0, 0.04);
        cursor: pointer;
        transition:
          transform 0.2s ease,
          box-shadow 0.2s ease;
      }

      .afm-footer-qr-box:hover {
        transform: scale(1.02);
        box-shadow:
          0 4px 20px rgba(0, 0, 0, 0.12),
          0 0 0 1px rgba(0, 0, 0, 0.06);
      }

      .afm-footer-qr-box img {
        width: 80px;
        height: 80px;
        display: block;
      }

      .afm-footer-qr-hint {
        font-size: 13px;
        color: #888;
        line-height: 1.4;
        text-align: left;
      }

      .afm-footer-qr-hint strong {
        display: block;
        color: #555;
        font-weight: 600;
        margin-bottom: 2px;
      }

      .afm-footer-email-form {
        width: 100%;
        max-width: 320px;
      }

      /* Earned access messaging */
      .afm-footer-earned-label {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        margin-bottom: 20px;
        font-size: 12px;
        color: #888;
      }

      .afm-footer-earned-label svg {
        width: 16px;
        height: 16px;
        color: #ef3e36;
      }

      .afm-footer-input-wrapper {
        position: relative;
        margin-bottom: 12px;
      }

      .afm-footer-email-input {
        width: 100%;
        padding: 18px 24px;
        border: 2px solid rgba(0, 0, 0, 0.08);
        border-radius: 100px;
        font-size: 15px;
        font-family: inherit;
        background: rgba(245, 238, 224, 0.5);
        color: #1a1a1a;
        outline: none;
        transition:
          border-color 0.2s ease,
          background 0.2s ease,
          box-shadow 0.2s ease;
      }

      .afm-footer-email-input::placeholder {
        color: #999;
      }

      .afm-footer-email-input:focus {
        border-color: #ef3e36;
        background: #fff;
        box-shadow: 0 0 0 4px rgba(239, 62, 54, 0.08);
      }

      .afm-footer-email-submit {
        width: 100%;
        padding: 16px 28px;
        background: #ef3e36;
        color: #fff;
        border: none;
        border-radius: 100px;
        font-size: 15px;
        font-weight: 700;
        font-family: inherit;
        cursor: pointer;
        transition:
          background 0.2s ease,
          transform 0.2s ease,
          box-shadow 0.2s ease;
        box-shadow: 0 4px 16px rgba(239, 62, 54, 0.2);
      }

      .afm-footer-email-submit:hover {
        background: #d93830;
        transform: translateY(-2px);
        box-shadow: 0 6px 24px rgba(239, 62, 54, 0.3);
      }

      .afm-footer-perks {
        display: flex;
        flex-direction: column;
        gap: 10px;
        margin-top: 20px;
        text-align: left;
      }

      .afm-footer-perk {
        display: flex;
        align-items: center;
        gap: 10px;
        font-size: 13px;
        color: #666;
      }

      .afm-footer-perk svg {
        width: 16px;
        height: 16px;
        color: #ef3e36;
        flex-shrink: 0;
      }

      .afm-footer-privacy-note {
        font-size: 12px;
        color: #aaa;
        margin-top: 16px;
        line-height: 1.4;
      }

      /* Footer Bottom - Legal */
      .afm-footer-legal {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 24px;
        font-size: 13px;
        padding: 12px;
      }

      .afm-footer-legal a {
        color: #888;
        text-decoration: none;
        transition: color 0.2s;
      }

      .afm-footer-legal a:hover {
        color: #1a1a1a;
      }

      .afm-footer-legal-divider {
        width: 4px;
        height: 4px;
        border-radius: 50%;
        background: rgba(0, 0, 0, 0.15);
      }

      /* Responsive Design */
      @media (max-width: 900px) {
        .afm-footer-portal-inner {
          padding: 48px 40px;
        }

        .afm-footer-paths {
          grid-template-columns: 1fr;
          gap: 0;
        }

        .afm-footer-divider {
          width: 100%;
          height: 1px;
          margin: 40px 0;
          background: linear-gradient(to right, transparent, rgba(0, 0, 0, 0.1), transparent);
        }

        .afm-footer-path {
          padding: 0;
        }

        .afm-footer-qr-section {
          justify-content: center;
        }
      }

      @media (max-width: 480px) {
        .afm-footer-portal {
          padding: 4px;
          border-radius: 28px;
        }

        .afm-footer-portal-inner {
          padding: 40px 24px;
          border-radius: 24px;
        }

        .afm-footer-portal-inner::before {
          border-radius: 24px;
        }

        .afm-footer-badge {
          margin-bottom: 36px;
        }

        .afm-footer-badge-text {
          font-size: 10px;
          letter-spacing: 1.5px;
        }

        .afm-footer-path-title {
          font-size: 20px;
        }

        .afm-footer-path-desc {
          font-size: 14px;
          margin-bottom: 24px;
        }

        .afm-footer-download-cta {
          padding: 16px 28px;
          font-size: 15px;
        }

        .afm-footer-qr-section {
          flex-direction: column;
          text-align: center;
        }

        .afm-footer-qr-hint {
          text-align: center;
        }

        .afm-footer-email-input {
          padding: 16px 20px;
          font-size: 14px;
        }

        .afm-footer-email-submit {
          padding: 14px 24px;
          font-size: 14px;
        }

        .afm-footer-legal {
          flex-direction: column;
          gap: 12px;
        }

        .afm-footer-legal-divider {
          display: none;
        }
      }

      /* ============================================
         MODAL - App Download Dialog
         ============================================ */
      .afm-modal-overlay {
        position: fixed;
        inset: 0;
        background: rgba(0, 0, 0, 0.6);
        backdrop-filter: blur(4px);
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 24px;
        z-index: 1000;
        opacity: 0;
        visibility: hidden;
        transition:
          opacity 0.3s,
          visibility 0.3s;
      }

      .afm-modal-overlay.active {
        opacity: 1;
        visibility: visible;
      }

      .afm-modal {
        background: #fff;
        border-radius: 24px;
        padding: 48px;
        max-width: 440px;
        width: 100%;
        text-align: center;
        transform: scale(0.95);
        transition: transform 0.3s;
        position: relative;
        overflow: hidden;
      }

      .afm-modal-overlay.active .afm-modal {
        transform: scale(1);
      }

      .afm-modal-close {
        position: absolute;
        top: 16px;
        right: 16px;
        width: 40px;
        height: 40px;
        background: #f5f5f5;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: background 0.2s;
        z-index: 10;
      }

      .afm-modal-close:hover {
        background: #eee;
      }

      .afm-modal-close svg {
        width: 20px;
        height: 20px;
        color: #666;
      }

      .afm-modal-title {
        font-size: 24px;
        font-weight: 700;
        color: #1a1a1a;
      }

      .afm-modal-desc {
        font-size: 15px;
        color: #666;
        margin-bottom: 32px;
      }

      /* Modal Steps Container */
      .afm-modal-steps {
        position: relative;
      }

      .afm-modal-step {
        transition:
          opacity 0.3s ease,
          transform 0.3s ease;
      }

      .afm-modal-step.hidden {
        display: none;
      }

      .afm-modal-step.fade-out {
        opacity: 0;
        transform: translateX(-20px);
      }

      .afm-modal-step.fade-in {
        animation: fadeSlideIn 0.4s ease forwards;
      }

      @keyframes fadeSlideIn {
        from {
          opacity: 0;
          transform: translateX(20px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }

      /* Step 1: Form */
      .afm-modal-form {
        display: flex;
        flex-direction: column;
        gap: 16px;
      }

      .afm-modal-input-group {
        display: flex;
        flex-direction: column;
        gap: 6px;
        text-align: left;
      }

      .afm-modal-label {
        font-size: 14px;
        font-weight: 600;
        color: #1a1a1a;
      }

      .afm-modal-label .optional {
        font-weight: 400;
        color: #999;
      }

      .afm-modal-input {
        padding: 14px 16px;
        border: 2px solid #eee;
        border-radius: 12px;
        font-size: 16px;
        font-family: inherit;
        transition:
          border-color 0.2s,
          box-shadow 0.2s;
        outline: none;
      }

      .afm-modal-input:focus {
        border-color: #ef3e36;
        box-shadow: 0 0 0 3px rgba(239, 62, 54, 0.1);
      }

      .afm-modal-input::placeholder {
        color: #aaa;
      }

      .afm-modal-input:disabled {
        background: #f9f9f9;
        color: #666;
      }

      .afm-modal-submit {
        margin-top: 8px;
        padding: 16px 24px;
        background: #ef3e36;
        color: #fff;
        border: none;
        border-radius: 12px;
        font-size: 16px;
        font-weight: 600;
        font-family: inherit;
        cursor: pointer;
        transition:
          background 0.2s,
          transform 0.2s;
      }

      .afm-modal-submit:hover {
        background: #d93830;
        transform: translateY(-1px);
      }

      .afm-modal-submit:disabled {
        background: #ccc;
        cursor: not-allowed;
        transform: none;
      }

      /* Step 2: Confirmation */
      .afm-modal-check {
        width: 64px;
        height: 64px;
        background: #ef3e36;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 24px;
        animation: checkPop 0.4s ease;
      }

      @keyframes checkPop {
        0% {
          transform: scale(0);
          opacity: 0;
        }
        50% {
          transform: scale(1.1);
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }

      .afm-modal-check svg {
        width: 32px;
        height: 32px;
        color: #fff;
      }

      .afm-modal-divider {
        display: flex;
        align-items: center;
        gap: 16px;
        margin: 32px 0;
      }

      .afm-modal-divider-line {
        flex: 1;
        height: 1px;
        background: #eee;
      }

      .afm-modal-divider-text {
        font-size: 12px;
        font-weight: 600;
        color: #999;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      .afm-modal-app-desc {
        font-size: 14px;
        color: #666;
        margin-bottom: 20px;
      }

      .afm-modal-buttons {
        display: flex;
        flex-direction: column;
        gap: 12px;
      }

      .afm-modal-logo {
        margin-top: 24px;
        display: flex;
        justify-content: center;
      }

      .afm-modal-logo img {
        height: 48px;
        width: auto;
      }

      .afm-store-btn {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 12px;
        padding: 16px 24px;
        border-radius: 12px;
        font-size: 16px;
        font-weight: 600;
        text-decoration: none;
        transition:
          transform 0.2s,
          box-shadow 0.2s;
      }

      .afm-store-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
      }

      .afm-store-btn.apple {
        background: #1a1a1a;
        color: #fff;
      }

      .afm-store-btn.google {
        background: #fff;
        color: #1a1a1a;
        border: 2px solid #1a1a1a;
      }

      .afm-store-btn svg {
        width: 24px;
        height: 24px;
      }

      /* ============================================
         WELCOME OVERLAY - Full Screen Portal
         ============================================ */
      .afm-welcome-overlay {
        position: fixed;
        inset: 0;
        z-index: 9999;
        display: flex;
        align-items: center;
        justify-content: center;
        background: #f5eee0;
        transition:
          opacity 0.4s ease-out,
          visibility 0.4s ease-out;
      }

      .afm-welcome-overlay.fade-out {
        opacity: 0;
        visibility: hidden;
        pointer-events: none;
      }

      /* Product Grid Background */
      .afm-welcome-grid {
        position: absolute;
        inset: 0;
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
        gap: 32px;
        padding: 48px;
        opacity: 0.35;
        overflow: hidden;
      }

      .afm-welcome-grid-item {
        aspect-ratio: 1;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .afm-welcome-grid-item img {
        width: 100%;
        height: 100%;
        object-fit: contain;
        filter: grayscale(20%);
      }

      /* Muting Layer */
      .afm-welcome-mute {
        position: absolute;
        inset: 0;
        background: rgba(245, 238, 224, 0.05);
        backdrop-filter: blur(1px);
      }

      /* Welcome Badge - Clean Collab Lock-up */
      .afm-welcome-badge {
        position: relative;
        z-index: 10;
        display: flex;
        align-items: center;
        gap: 0;
        background: rgba(255, 255, 255, 0.97);
        padding: 24px 40px;
        border-radius: 24px;
        box-shadow:
          0 8px 40px rgba(0, 0, 0, 0.12),
          0 0 0 1px rgba(0, 0, 0, 0.04);
        animation: badgeReveal 0.6s ease-out both;
      }

      @keyframes badgeReveal {
        from {
          opacity: 0;
          transform: scale(0.9);
        }
        to {
          opacity: 1;
          transform: scale(1);
        }
      }

      .afm-welcome-logo {
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .afm-welcome-logo img {
        height: 64px;
        width: auto;
        display: block;
      }

      .afm-welcome-divider {
        width: 1px;
        height: 48px;
        background: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.12), transparent);
        margin: 0 28px;
      }

      .afm-welcome-badge-heart {
        height: 56px;
        width: auto;
        display: block;
        animation: heartBeat 1.8s ease-in-out forwards;
      }

      @keyframes heartBeat {
        0%,
        20% {
          transform: scale(1);
        }
        30% {
          transform: scale(0.85);
        }
        40% {
          transform: scale(0.95);
        }
        50% {
          transform: scale(1.1);
        }
        60%,
        100% {
          transform: scale(1.25);
        }
      }

      /* Responsive Welcome Overlay */
      @media (max-width: 768px) {
        .afm-welcome-grid {
          grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
          gap: 20px;
          padding: 24px;
        }

        .afm-welcome-badge {
          padding: 20px 28px;
          border-radius: 20px;
        }

        .afm-welcome-logo img {
          height: 48px;
        }

        .afm-welcome-divider {
          height: 36px;
          margin: 0 20px;
        }

        .afm-welcome-badge-heart {
          height: 44px;
        }
      }

      /* ============================================
         PERFORMANCE: Pause off-screen animations
         ============================================ */
      .afm-animation-paused,
      .afm-animation-paused::before,
      .afm-animation-paused::after,
      .afm-animation-paused *,
      .afm-animation-paused *::before,
      .afm-animation-paused *::after {
        animation-play-state: paused !important;
      }
    </style>
  </head>

  <body>
    <!-- ============================================
         WELCOME OVERLAY - Displayed on Load
         ============================================ -->
    <div class="afm-welcome-overlay" id="welcomeOverlay">
      <!-- Product Grid Background -->
      <div class="afm-welcome-grid" id="welcomeGrid"></div>

      <!-- Muting Layer -->
      <div class="afm-welcome-mute"></div>

      <!-- Collab Badge -->
      <div class="afm-welcome-badge">
        <div class="afm-welcome-logo">
          <img src="https://gzpohfmle7zzdwfb.public.blob.vercel-storage.com/Swapnice/afm-logo.avif" alt="Action Figure Miles" />
        </div>
        <div class="afm-welcome-divider"></div>
        <div class="afm-welcome-logo">
          <img src="https://gzpohfmle7zzdwfb.public.blob.vercel-storage.com/Swapnice/swapnice_logo.png" alt="Swapnice" class="afm-welcome-badge-heart" />
        </div>
      </div>
    </div>

    <!-- EVERYTHING must live inside this root -->
    <div id="afm-activate">
      <!-- ============================================
           HERO - LAYERED ACTIVATION PORTAL
           ============================================ -->
      <header class="afm-hero">
        <!-- Ambient Video Background Layer -->
        <div class="afm-video-layer">
          <video
            autoplay
            loop
            muted
            playsinline
            webkit-playsinline
            preload="metadata"
            disablepictureinpicture
            aria-hidden="true"
          >
            <source
              src="https://gzpohfmle7zzdwfb.public.blob.vercel-storage.com/Swapnice/afm-teaser-v2.mp4"
              type="video/mp4"
            />
          </video>
          <!-- iOS touch-capture: receives first tap to unlock autoplay -->
          <div class="afm-video-touch-target" aria-hidden="true"></div>
        </div>

        <!-- Hero Content - Asymmetric Layout -->
        <div class="afm-hero-content">
          <!-- Floating Activation Badge -->
          <div class="afm-floating-badge">
            <div class="afm-badge-inner">
              <div class="afm-badge-logo">
                <img src="https://gzpohfmle7zzdwfb.public.blob.vercel-storage.com/Swapnice/afm-logo.avif" alt="Action Figure Miles" />
              </div>
              <div class="afm-badge-divider"></div>
              <div class="afm-badge-logo">
                <img src="https://gzpohfmle7zzdwfb.public.blob.vercel-storage.com/Swapnice/swapnice_logo_2.png" alt="Swapnice" />
              </div>
            </div>
          </div>

          <h1 class="afm-hero-title">
            Activate Your Superpowers
            <!-- <span class="afm-chalk-underline" id="superpowersUnderline">Superpowers</span> -->
          </h1>
          <p class="afm-hero-subtitle">
            Your upgraded shoes are waiting. Download the app to unlock whats yours.
          </p>

          <!-- Activation Portal Card -->
          <div class="afm-portal-card">
            <div class="afm-portal-card-glow"></div>
            <div class="afm-portal-card-inner">
              <!-- Left: CTA Content -->
              <div class="afm-portal-cta-side">
                <!-- <p class="afm-portal-label">Activation starts here</p> -->
                <button class="afm-hero-cta" onclick="redirectToAppStore()">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                    stroke-width="2.5"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"
                    />
                  </svg>
                  <span class="afm-cta-text">Download the Swapnice App</span>
                </button>
              </div>

              <!-- Divider -->
              <div class="afm-portal-divider">
                <span>or</span>
              </div>

              <!-- Right: QR Code -->
              <div
                class="afm-portal-qr-side"
                onclick="redirectToAppStore()"
                title="Scan to download the app"
              >
                <div class="afm-portal-qr-box">
                  <img src="https://gzpohfmle7zzdwfb.public.blob.vercel-storage.com/Swapnice/download_app.png" alt="QR code to download app" />
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Transition gradient to content -->
        <div class="afm-hero-transition">
          <!-- Explore Guide Character -->
          <div class="afm-explore-guide">
            <img
              src="https://gzpohfmle7zzdwfb.public.blob.vercel-storage.com/Swapnice/product_15.png"
              alt=""
              aria-hidden="true"
              class="afm-explore-guide-character"
            />
            <div class="afm-explore-guide-sign">
              <span class="afm-explore-guide-sign-text">Keep scrolling</span>
              <span class="afm-explore-guide-sign-action">
                Explore
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                  stroke-width="2.5"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M19 14l-7 7m0 0l-7-7m7 7V3"
                  />
                </svg>
              </span>
            </div>
          </div>
        </div>
      </header>

      <!-- ============================================
           BODY CONTENT - Instructional Spine
           ============================================ -->
      <main>
        <!-- HOW-TO SECTION: Clear Steps -->
        <section class="afm-howto">
          <div class="afm-howto-layout">
            <div class="afm-howto-main">
              <header class="afm-howto-header">
                <h2 class="afm-howto-title">Activate your shoes in three steps</h2>
              </header>

              <div class="afm-steps">
                <!-- Running Character -->
                <div class="afm-steps-runner" id="stepsRunner">
                  <img src="https://gzpohfmle7zzdwfb.public.blob.vercel-storage.com/Swapnice/product_12.png" alt="" aria-hidden="true" />
                </div>

                <!-- Step 1 -->
                <article class="afm-step">
                  <div class="afm-step-number">1</div>
                  <div class="afm-step-content">
                    <h3 class="afm-step-title">Download the Swapnice app</h3>
                    <p class="afm-step-desc">
                      This is where your scanned products live  Youll use the app to authenticate
                      your shoes and access exclusive content.
                    </p>
                  </div>
                </article>

                <!-- Step 2 -->
                <article class="afm-step">
                  <div class="afm-step-number">2</div>
                  <div class="afm-step-content">
                    <h3 class="afm-step-title">Scan your shoes tag</h3>
                    <p class="afm-step-desc">
                      Hold your phone near the tag inside your product. The app reads the chip and
                      <em>links it to you</em>  permanently.
                    </p>
                  </div>
                </article>

                <!-- Step 3 -->
                <article class="afm-step">
                  <div class="afm-step-number">3</div>
                  <div class="afm-step-content">
                    <h3 class="afm-step-title">Activation complete</h3>
                    <p class="afm-step-desc">
                      Your shoes are now authenticated! View <em>exclusive</em> ActionFigureMiles
                      content and your item inside your Swapnice inventory.
                    </p>
                    <div class="afm-step-hint">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke-width="2"
                        stroke="currentColor"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          d="M9 12.75L11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 01-1.043 3.296 3.745 3.745 0 01-3.296 1.043A3.745 3.745 0 0112 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 01-3.296-1.043 3.745 3.745 0 01-1.043-3.296A3.745 3.745 0 013 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 011.043-3.296 3.746 3.746 0 013.296-1.043A3.746 3.746 0 0112 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 013.296 1.043 3.746 3.746 0 011.043 3.296A3.745 3.745 0 0121 12z"
                        />
                      </svg>
                      <span>You're officially in</span>
                    </div>
                  </div>
                </article>
              </div>
            </div>

            <!-- Demo Video -->
            <aside class="afm-howto-demo">
              <div class="afm-howto-demo-phone">
                <div class="afm-howto-demo-screen">
                  <video
                    autoplay
                    loop
                    muted
                    playsinline
                    webkit-playsinline
                    disablepictureinpicture
                    aria-label="Swapnice app demo"
                  >
                    <source
                      src="https://gzpohfmle7zzdwfb.public.blob.vercel-storage.com/Swapnice/about_swapnice_gif.mp4"
                      type="video/mp4"
                    />
                  </video>
                </div>
              </div>
            </aside>
          </div>
        </section>
      </main>

      <!-- ============================================
           FOOTER - Activation Portal
           ============================================ -->
      <section class="afm-footer-area">
        <!-- Peeking Character -->
        <div class="afm-footer-peek">
          <img src="https://gzpohfmle7zzdwfb.public.blob.vercel-storage.com/Swapnice/product_15.png" alt="" aria-hidden="true" class="afm-footer-peek-character" />
          <img src="https://gzpohfmle7zzdwfb.public.blob.vercel-storage.com/Swapnice/swapnice_logo.png" alt="" aria-hidden="true" class="afm-footer-peek-logo" />
        </div>
        <!-- Footer Portal - Activation Continuation -->
        <footer class="afm-footer-portal">
          <div class="afm-footer-portal-inner">
            <!-- Dual Activation Paths -->
            <div class="afm-footer-paths">
              <!-- Path 1: Download the App (Owners) -->
              <div class="afm-footer-path">
                <h3 class="afm-footer-path-title">Get the App</h3>
                <p class="afm-footer-path-desc">
                  Download now and start bringing your products to life.
                </p>

                <button class="afm-footer-download-cta" onclick="redirectToAppStore()">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                    stroke-width="2.5"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"
                    />
                  </svg>
                  <span>Download the Swapnice App</span>
                </button>

                <!-- QR Code Section -->
                <div class="afm-footer-qr-section">
                  <div class="afm-footer-qr-box" onclick="redirectToAppStore()" title="Scan to download">
                    <img src="https://gzpohfmle7zzdwfb.public.blob.vercel-storage.com/Swapnice/download_app.png" alt="Download QR Code" />
                  </div>
                  <div class="afm-footer-qr-hint">
                    <strong>Viewing on web?</strong>
                    <span>Scan to download</span>
                  </div>
                </div>
              </div>

              <!-- Divider -->
              <div class="afm-footer-divider"></div>

              <div class="afm-footer-path">
                <h3 class="afm-footer-path-title">Stay Informed</h3>
                <p class="afm-footer-path-desc">
                  Be first to know when new products and collaborations go live.
                </p>

                <form
                  class="afm-footer-email-form"
                  id="emailCaptureForm"
                  onsubmit="handleEmailSubmit(event)"
                >
                  <div class="afm-footer-input-wrapper">
                    <input
                      type="email"
                      class="afm-footer-email-input"
                      id="emailInput"
                      name="email"
                      required
                      placeholder="Your email address"
                      aria-label="Email address"
                    />
                  </div>
                  <button type="submit" class="afm-footer-email-submit">Submit</button>

                  <!-- Perks list -->
                  <div class="afm-footer-perks">
                    <div class="afm-footer-perk">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke-width="2.5"
                        stroke="currentColor"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          d="M4.5 12.75l6 6 9-13.5"
                        />
                      </svg>
                      <span>First access to new drops</span>
                    </div>
                    <div class="afm-footer-perk">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke-width="2.5"
                        stroke="currentColor"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          d="M4.5 12.75l6 6 9-13.5"
                        />
                      </svg>
                      <span>Early access to future collabs</span>
                    </div>
                    <div class="afm-footer-perk">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke-width="2.5"
                        stroke="currentColor"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          d="M4.5 12.75l6 6 9-13.5"
                        />
                      </svg>
                      <span>No spam, just access</span>
                    </div>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </footer>

        <div class="afm-footer-legal">
          <a href="#">Privacy Policy</a>
          <span class="afm-footer-legal-divider"></span>
          <a href="#">Terms of Service</a>
        </div>
      </section>

      <!-- ============================================
           MODAL - App Download Dialog
           ============================================ -->
      <div class="afm-modal-overlay" id="afmModal">
        <div class="afm-modal">
          <button class="afm-modal-close" onclick="closeModal()" aria-label="Close modal">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
              stroke-width="2"
            >
              <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
            </svg>
          </button>

          <div class="afm-modal-steps">
            <!-- Step 1: Sign Up Form -->
            <div class="afm-modal-step" id="modalStep1">
              <h3 class="afm-modal-title">You're Early</h3>
              <p class="afm-modal-desc">
                Join the waitlist for first access to drops and exclusives.
              </p>
              <form class="afm-modal-form" id="modalSignupForm" onsubmit="handleModalSubmit(event)">
                <div class="afm-modal-input-group">
                  <label class="afm-modal-label" for="modalEmail">Email</label>
                  <input
                    type="email"
                    class="afm-modal-input"
                    id="modalEmail"
                    name="email"
                    required
                    placeholder="you@example.com"
                  />
                </div>
                <div class="afm-modal-input-group">
                  <label class="afm-modal-label" for="modalName">Name</label>
                  <input
                    type="text"
                    class="afm-modal-input"
                    id="modalName"
                    name="name"
                    required
                    placeholder="Your name"
                  />
                </div>
                <div class="afm-modal-input-group">
                  <label class="afm-modal-label" for="modalPhone"
                    >Phone <span class="optional">(optional)</span></label
                  >
                  <input
                    type="tel"
                    class="afm-modal-input"
                    id="modalPhone"
                    name="phone"
                    placeholder="(555) 123-4567"
                  />
                </div>
                <button type="submit" class="afm-modal-submit" id="modalSubmitBtn">
                  Unlock Access
                </button>
              </form>
            </div>

            <!-- Step 2: Confirmation -->
            <div class="afm-modal-step hidden" id="modalStep2">
              <div class="afm-modal-logo">
                <img src="https://gzpohfmle7zzdwfb.public.blob.vercel-storage.com/Swapnice/swapnice_logo.png" alt="Swapnice" />
              </div>
              <h3 class="afm-modal-title">You're In</h3>
              <p class="afm-modal-desc">We'll be in touch.</p>

              <div class="afm-modal-divider">
                <div class="afm-modal-divider-line"></div>
              </div>

              <p class="afm-modal-app-desc">
                Get the Swapnice app to activate your shoes and unlock <em>exclusive content</em>.
              </p>

              <div class="afm-modal-buttons">
                <button class="afm-footer-download-cta" onclick="redirectToAppStore()">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                    stroke-width="2.5"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"
                    />
                  </svg>
                  <span>Download the Swapnice App</span>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- JavaScript -->
    <script>
      // App Store URLs
      const IOS_APP_STORE_URL = 'https://apps.apple.com/us/app/swapnice/id1441921586';
      const ANDROID_PLAY_STORE_URL = 'https://play.google.com/store/apps/details?id=io.corber.swapnice';

      // Device detection and app store redirect
      function redirectToAppStore() {
        const userAgent = navigator.userAgent || navigator.vendor || window.opera;

        // Detect iOS devices (iPhone, iPad, iPod, or iPadOS via MacIntel with touch)
        const isIOS = /iPad|iPhone|iPod/.test(userAgent) && !window.MSStream;
        const isIPadOS = navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1;

        // Detect Android devices
        const isAndroid = /android/i.test(userAgent);

        if (isIOS || isIPadOS) {
          window.location.href = IOS_APP_STORE_URL;
        } else if (isAndroid) {
          window.location.href = ANDROID_PLAY_STORE_URL;
        } else {
          // Fallback for desktop/other devices - redirect to iOS App Store web page
          window.location.href = IOS_APP_STORE_URL;
        }
      }

      // Welcome Overlay - Populate grid and animate
      (function initWelcomeOverlay() {
        const overlay = document.getElementById('welcomeOverlay');
        const grid = document.getElementById('welcomeGrid');
        if (!overlay || !grid) return;

        // Hardcoded product grid layout (1-7 repeated in a curated pattern)
        const productLayout = [
          1, 3, 5, 7, 2, 4, 6, 4, 6, 1, 3, 5, 7, 2, 7, 2, 4, 6, 1, 3, 5, 3, 5, 7, 2, 4, 6, 1, 6, 1,
          3, 5, 7, 2, 4, 2, 4, 6, 1, 3, 5, 7, 5, 7, 2, 4, 6, 1, 3, 1, 3, 5, 7, 2, 4, 6,
        ];

        // Populate grid with product images
        for (let i = 0; i < productLayout.length; i++) {
          const item = document.createElement('div');
          item.className = 'afm-welcome-grid-item';
          const img = document.createElement('img');
          img.src = `https://gzpohfmle7zzdwfb.public.blob.vercel-storage.com/Swapnice/product_${productLayout[i]}.webp`;
          img.alt = '';
          img.loading = 'eager';
          item.appendChild(img);
          grid.appendChild(item);
        }

        // Fade out when heart reaches 2x size (end of 1.6s animation)
        setTimeout(() => {
          overlay.classList.add('fade-out');

          // Trigger chalk underline animation as overlay starts fading
          const superpowersEl = document.getElementById('superpowersUnderline');
          if (superpowersEl) {
            superpowersEl.classList.add('animate');
          }
        }, 2000);

        // Remove from DOM after fade completes (1.6s animation + 0.4s fade)
        setTimeout(() => {
          overlay.remove();
        }, 2200);
      })();

      window.addEventListener('load', () => {
        const layer = document.querySelector('.afm-video-layer');
        const v = layer?.querySelector('video');
        if (!layer || !v) return;

        v.muted = true;
        v.playsInline = true;

        const fail = () => layer.classList.add('afm-video-failed');
        v.addEventListener('error', fail, { once: true });

        const p = v.play();
        if (p && typeof p.catch === 'function') p.catch(fail);
      });

      // Scroll-triggered reveal animations for all sections
      (function initScrollAnimations() {
        // Select all animatable elements (excluding .afm-step which displays immediately)
        const segmentCards = document.querySelectorAll('.afm-segment-card');
        const unlockItems = document.querySelectorAll('.afm-unlock-item');

        // Combine all elements
        const allElements = [...segmentCards, ...unlockItems];

        if (!allElements.length) return;

        // Respect reduced motion preference
        const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
        if (prefersReducedMotion) {
          allElements.forEach((el) => el.classList.add('afm-visible'));
          return;
        }

        const observerOptions = {
          root: null,
          rootMargin: '0px 0px -60px 0px',
          threshold: 0.15,
        };

        const revealElement = (entries, observer) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              entry.target.classList.add('afm-visible');
              observer.unobserve(entry.target);
            }
          });
        };

        const observer = new IntersectionObserver(revealElement, observerOptions);

        allElements.forEach((el) => {
          observer.observe(el);
        });
      })();

      function handleEmailSubmit(event) {
        event.preventDefault();

        const input = document.getElementById('emailInput');
        if (!input) return;

        // native email validation (works with type="email" + required)
        if (!input.checkValidity()) {
          input.reportValidity();
          return;
        }

        // Pre-fill modal email field with footer input
        const modalEmail = document.getElementById('modalEmail');
        if (modalEmail && input.value) {
          modalEmail.value = input.value.trim();
        }

        openModal();
      }

      // Modal Functions
      function openModal() {
        document.getElementById('afmModal').classList.add('active');
        document.body.style.overflow = 'hidden';
      }

      function closeModal() {
        document.getElementById('afmModal').classList.remove('active');
        document.body.style.overflow = '';
        // Reset modal to step 1 after close animation
        setTimeout(resetModal, 300);
      }

      function resetModal() {
        const step1 = document.getElementById('modalStep1');
        const step2 = document.getElementById('modalStep2');
        const form = document.getElementById('modalSignupForm');
        const submitBtn = document.getElementById('modalSubmitBtn');

        step1.classList.remove('hidden', 'fade-out', 'fade-in');
        step2.classList.add('hidden');
        step2.classList.remove('fade-in');

        if (form) form.reset();
        if (submitBtn) {
          submitBtn.disabled = false;
          submitBtn.textContent = 'Join Now';
        }
      }

      async function handleModalSubmit(event) {
        event.preventDefault();

        const form = event.target;
        const submitBtn = document.getElementById('modalSubmitBtn');
        const emailInput = document.getElementById('modalEmail');
        const nameInput = document.getElementById('modalName');
        const phoneInput = document.getElementById('modalPhone');

        // Validate form
        if (!form.checkValidity()) {
          form.reportValidity();
          return;
        }

        // Disable button and show loading state
        submitBtn.disabled = true;
        submitBtn.textContent = 'Joining...';

        const formData = {
          email: emailInput.value.trim(),
          name: nameInput.value.trim(),
          phone: phoneInput.value.trim() || null,
        };

        try {
          // POST to newsletter API endpoint
          const response = await fetch('/api/newsletter', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
            },
            body: JSON.stringify(formData),
          });

          // Transition to step 2 regardless of response for now (placeholder API)
          transitionToStep2();
        } catch (error) {
          console.error('Newsletter submission error:', error);
          // Still transition for demo/placeholder purposes
          transitionToStep2();
        }
      }

      function transitionToStep2() {
        const step1 = document.getElementById('modalStep1');
        const step2 = document.getElementById('modalStep2');

        // Fade out step 1
        step1.classList.add('fade-out');

        // After fade out, switch to step 2
        setTimeout(() => {
          step1.classList.add('hidden');
          step2.classList.remove('hidden');
          step2.classList.add('fade-in');
        }, 300);
      }

      // Close modal when clicking overlay
      document.getElementById('afmModal').addEventListener('click', (e) => {
        if (e.target === e.currentTarget) {
          closeModal();
        }
      });

      // Close modal with Escape key
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') {
          closeModal();
        }
      });

      // Performance: Pause off-screen infinite animations
      (function initAnimationPauseObserver() {
        // Skip if user prefers reduced motion (animations already handled)
        if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) return;

        // Elements with infinite animations to observe
        const animatedSelectors = [
          '.afm-floating-badge', // badgeFloat
          '.afm-portal-card', // portalVortex (::before)
          '.afm-status-dot', // statusPulse
          '.afm-hero-cta', // boltCharge (svg), ctaGlowPulse
          '.afm-explore-guide', // guideFloat, arrowBounce
          '.afm-footer-peek', // peekFloat
          '.afm-activation-divider', // heartPulseSubtle
          '.afm-steps-runner', // runnerPath, runnerWobble
          '.afm-footer-portal', // footerPortalVortex (::before)
          '.afm-footer-download-cta', // footerBoltPulse
        ];

        const animatedElements = document.querySelectorAll(animatedSelectors.join(', '));
        if (!animatedElements.length) return;

        const observerOptions = {
          root: null,
          // Generous margin to start animations before fully visible
          rootMargin: '100px 0px 100px 0px',
          threshold: 0,
        };

        const toggleAnimation = (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              // Element entering viewport - resume animations
              entry.target.classList.remove('afm-animation-paused');
            } else {
              // Element leaving viewport - pause animations
              entry.target.classList.add('afm-animation-paused');
            }
          });
        };

        const animationObserver = new IntersectionObserver(toggleAnimation, observerOptions);

        animatedElements.forEach((el) => {
          // Start with animations paused for off-screen elements
          if (!isElementInViewport(el)) {
            el.classList.add('afm-animation-paused');
          }
          animationObserver.observe(el);
        });

        // Helper to check if element is initially in viewport
        function isElementInViewport(el) {
          const rect = el.getBoundingClientRect();
          return rect.top < window.innerHeight + 100 && rect.bottom > -100;
        }
      })();
    </script>

    <!-- iOS Video Autoplay Fix -->
    <script>
      (function () {
        const layer = document.querySelector('.afm-video-layer');
        const video = layer?.querySelector('video');
        const touchTarget = layer?.querySelector('.afm-video-touch-target');
        if (!video || !layer) return;

        // Mark as playing and disable touch overlay
        const onPlaying = () => {
          layer.classList.add('afm-video-playing');
        };
        video.addEventListener('playing', onPlaying, { once: true });

        // Attempt immediate autoplay (works on desktop + Android)
        video
          .play()
          .then(onPlaying)
          .catch(() => {});

        // iOS requires gesture from an interaction-eligible element.
        // The touch-target overlay has pointer-events: auto, so iOS
        // recognizes taps on it as a valid user gesture for video.play()
        if (touchTarget) {
          const unlock = () => {
            video
              .play()
              .then(onPlaying)
              .catch(() => {});
          };
          touchTarget.addEventListener('touchstart', unlock, { once: true, passive: true });
          touchTarget.addEventListener('click', unlock, { once: true });
        }
      })();
    </script>
  </body>
</html>
